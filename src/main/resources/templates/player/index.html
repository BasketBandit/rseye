<div th:id="${information.usernameEncoded}" th:class="${loginState + ' player'}">
    <div class="player-header">
        <span th:text="${information.username + ' (level-' + stats.combatLevel + ')'}"></span>
        <span th:if="${loginState == 'LOGGED_IN'}" class="badge badge-success">Online</span>
        <span th:if="${loginState != 'LOGGED_IN'}" class="badge badge-danger">Offline</span>
        <div class="locator" th:aria-username-sane="${information.usernameEncoded}" th:aria-username="${information.username}">üó∫Ô∏è</div>
    </div>

    <div class="player-map">
        <div th:id="${information.usernameEncoded + '-minimap'}" class="player-map"></div>
        <script th:inline="javascript">
            var [(${information.usernameEncoded + 'Minimap'})] = L.map([[${information.usernameEncoded + '-minimap'}]], {
                crs: L.CRS.OSRS,
                minZoom: 8,
                maxZoom: 8,
                zoomControl: false,
                scrollWheelZoom: false,
                renderer: L.canvas()
            }).setView([0,0], 8);

            L.tileLayer('./data/map/{x}/{y}.png', {
                bounds: bounds,
                noWrap: true,
                tms: true
            }).addTo([(${information.usernameEncoded + 'Minimap'})]);

            var [(${information.username + 'markericon'})] = L.divIcon({
                iconSize: [4, 4], // size of the icon
                iconAnchor: [0, 0], // remove any offset
                html: [[${information.username}]]
            });

            var [(${information.usernameEncoded + 'WorldmapMarker'})] = L.marker([(${information.usernameEncoded + 'Minimap'})].unproject(L.point(8276, 37552)), {title: [[${information.usernameEncoded + '-position'}]], icon: [(${information.username + 'markericon'})]}).addTo(map);
            var [(${information.usernameEncoded + 'MinimapMarker'})] = L.marker([(${information.usernameEncoded + 'Minimap'})].unproject(L.point(8276, 37552)), {icon: marker}).addTo([(${information.usernameEncoded + 'Minimap'})]);



            setTimeout(function () {
                [(${information.usernameEncoded + 'Minimap'})].invalidateSize(true);
                [(${information.usernameEncoded + 'Minimap'})].setView([(${information.usernameEncoded + 'Minimap'})].unproject(L.point(8276, 37552))); // lumbridge castle
            }, 100);

            var myIcon = L.divIcon({className: 'my-div-icon'});

            function [(${information.usernameEncoded + 'MinimapPan'})](x, y) {
                [(${information.usernameEncoded + 'Minimap'})].panTo([(${information.usernameEncoded + 'Minimap'})].unproject(L.point(x, y)));
            }
        </script>
    </div>

    <fragment th:replace="./player/equipment"></fragment>
    <fragment th:replace="./player/inventory"></fragment>
    <fragment th:replace="./player/stats"></fragment>
    <fragment th:replace="./player/quests"></fragment>
    <fragment th:replace="./player/bank"></fragment>
</div>

<!-- map sidebar label -->
<fragment th:replace="./player/map-sidebar"></fragment>
<!-- map position label -->
<fragment th:replace="./player/map-position"></fragment>